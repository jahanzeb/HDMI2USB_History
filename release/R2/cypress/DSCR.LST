A51 MACRO ASSEMBLER  DSCR                                                                 06/17/2013 20:07:27 PAGE     1


MACRO ASSEMBLER A51 V7.08a
OBJECT MODULE PLACED IN DSCR.OBJ
ASSEMBLER INVOKED BY: C:\Keil\C51\BIN\A51.EXE DSCR.A51 SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

                       1     ;;-----------------------------------------------------------------------------
                       2     ;;   File:      dscr.a51
                       3     ;;   Contents:   This file contains descriptor data tables.  
                       4     ;;
                       5     ;;   Copyright (c) 1997 AnchorChips, Inc. All rights reserved
                       6     ;;-----------------------------------------------------------------------------
                       7        
  0001                 8     DSCR_DEVICE   equ   1                                           ;; Descriptor type: Device
  0002                 9     DSCR_CONFIG   equ   2                                           ;; Descriptor type: Configu
                             ration
  0003                10     DSCR_STRING   equ   3                                           ;; Descriptor type: String
  0004                11     DSCR_INTRFC   equ   4                                           ;; Descriptor type: Interfa
                             ce
  0005                12     DSCR_ENDPNT   equ   5                                           ;; Descriptor type: Endpoin
                             t
  0006                13     DSCR_DEVQUAL  equ   6                                           ;; Descriptor type: Device 
                             Qualifier
                      14     
  0012                15     DSCR_DEVICE_LEN   equ   18
  0009                16     DSCR_CONFIG_LEN   equ    9
  0009                17     DSCR_INTRFC_LEN   equ    9
  0007                18     DSCR_ENDPNT_LEN   equ    7
  000A                19     DSCR_DEVQUAL_LEN  equ   10
                      20     
  0000                21     ET_CONTROL   equ   0                                            ;; Endpoint type: Control
  0001                22     ET_ISO       equ   1                                            ;; Endpoint type: Isochrono
                             us
  0002                23     ET_BULK      equ   2                                            ;; Endpoint type: Bulk
  0003                24     ET_INT       equ   3                                            ;; Endpoint type: Interrupt
                      25     
                      26     public      DeviceDscr, DeviceQualDscr, HighSpeedConfigDscr, FullSpeedConfigDscr, StringDsc
                             r, UserDscr
                      27     
                      28     DSCR   SEGMENT   CODE PAGE
                      29     
                      30     ;;-----------------------------------------------------------------------------
                      31     ;; Global Variables
                      32     ;;-----------------------------------------------------------------------------
----                  33           rseg DSCR      ;; locate the descriptor table in on-part memory.
                      34     
0000                  35     DeviceDscr:   
0000 12               36           db   DSCR_DEVICE_LEN                                      ;; Descriptor length
0001 01               37           db   DSCR_DEVICE                                          ;; Decriptor type
0002 0002             38           dw   0002H                                                ;; Specification Version (B
                             CD)
0004 02               39           db   02H                                                  ;; Device class
0005 00               40           db   00H                                                  ;; Device sub-class
0006 00               41           db   00H                                                  ;; Device sub-sub-class
0007 40               42           db   64                                                   ;; Maximum packet size
0008 B404             43           dw   0B404H                                               ;; Vendor ID
000A 1747             44           dw   1747H                                                ;; Product ID (Sample Devic
                             e)
000C 0000             45           dw   0000H                                                ;; Product version ID
000E 01               46           db   1                                                    ;; Manufacturer string inde
                             x
000F 02               47           db   2                                                    ;; Product string index
0010 00               48           db   0                                                    ;; Serial number string ind
                             ex
A51 MACRO ASSEMBLER  DSCR                                                                 06/17/2013 20:07:27 PAGE     2

0011 01               49           db   1                                                    ;; Number of configurations
                      50     
0012                  51     DeviceQualDscr:
0012 0A               52           db   DSCR_DEVQUAL_LEN                                     ;; Descriptor length
0013 06               53           db   DSCR_DEVQUAL                                         ;; Decriptor type
0014 0002             54           dw   0002H                                                ;; Specification Version (B
                             CD)
0016 00               55           db   00H                                                  ;; Device class
0017 00               56           db   00H                                                  ;; Device sub-class
0018 00               57           db   00H                                                  ;; Device sub-sub-class
0019 40               58           db   64                                                   ;; Maximum packet size
001A 01               59           db   1                                                    ;; Number of configurations
001B 00               60           db   0                                                    ;; Reserved
                      61     
001C                  62     HighSpeedConfigDscr:   
001C 09               63           db   DSCR_CONFIG_LEN                                      ;; Descriptor length
001D 02               64           db   DSCR_CONFIG                                          ;; Descriptor type
001E 43               65           db   (HighSpeedConfigDscrEnd-HighSpeedConfigDscr) mod 256 ;; Total Length (LSB)
001F 00               66           db   (HighSpeedConfigDscrEnd-HighSpeedConfigDscr)  /  256 ;; Total Length (MSB)
0020 02               67           db   2                                                    ;; Number of interfaces
0021 01               68           db   1                                                    ;; Configuration number
0022 00               69           db   0                                                    ;; Configuration string
0023 A0               70           db   10100000b                                            ;; Attributes (b7 - buspwr,
                              b6 - selfpwr, b5 - rwu)
0024 32               71           db   50                                                   ;; Power requirement (div 2
                              ma)
                      72     
                      73                                                                     ;; Virtual COM Port COMM In
                             terface Descriptor
0025 09               74           db   DSCR_INTRFC_LEN                                      ;; Descriptor length
0026 04               75           db   DSCR_INTRFC                                          ;; Descriptor type
0027 00               76           db   0                                                    ;; Zero-based index of this
                              interface
0028 00               77           db   0                                                    ;; Alternate setting
0029 01               78           db   1                                                    ;; Number of end points
002A 02               79           db   02H                                                  ;; Interface class
002B 02               80           db   02H                                                  ;; Interface sub class
002C 01               81           db   01H                                                  ;; Interface protocol code 
                             class
002D 00               82           db   0                                                    ;; Interface descriptor str
                             ing index
                      83     
                      84                                                                     ;; Header Functional Descri
                             ptor
002E 05               85           db   05H                                                  ;; Descriptor Size in Bytes
                              (5)
002F 24               86           db   24H                                                  ;; CS_Interface
0030 00               87           db   00H                                                  ;; Header Functional Descri
                             ptor
0031 1001             88           dw   1001H                                                ;; bcdCDC
                      89     
                      90                                                                     
                      91                                                                     ;; ACM Functional Descripto
                             r
0033 04               92           db   04H                                                  ;; Descriptor Size in Bytes
                              (5)
0034 24               93           db   24H                                                  ;; CS_Interface
0035 02               94           db   02H                                                  ;; Abstarct Control Managem
                             ent Functional Desc
0036 02               95           db   02H                                                  ;; bmCapabilities
                      96     
                      97                                                                     ;; Union Functional Descrip
                             tor
0037 05               98           db   05H                                                  ;; Descriptor Size in Bytes
                              (5)
0038 24               99           db   24H                                                  ;; CS_Interface
A51 MACRO ASSEMBLER  DSCR                                                                 06/17/2013 20:07:27 PAGE     3

0039 06              100           db   06H                                                  ;; Union Functional Descrip
                             tor
003A 00              101           db   00H                                                  ;; bMasterInterface
003B 01              102           db   01H                                                  ;; bSlaveInterface0
                     103     
                     104                                                                     ;; CM Functional Descriptor
003C 05              105           db   05H                                                  ;; Descriptor Size in Bytes
                              (5)
003D 24              106           db   24H                                                  ;; CS_Interface
003E 01              107           db   01H                                                  ;; CM Functional Descriptor
003F 00              108           db   00H                                                  ;; bmCapabilities
0040 01              109           db   01H                                                  ;; bDataInterface
                     110     
                     111                                                                     ;; EP1 Descriptor
0041 07              112           db   DSCR_ENDPNT_LEN                                      ;; Descriptor length
0042 05              113           db   DSCR_ENDPNT                                          ;; Descriptor type
0043 81              114           db   81H                                                  ;; Endpoint number, and dir
                             ection
0044 03              115           db   ET_INT                                               ;; Endpoint type
0045 10              116           db   10H                                                  ;; Maximum packet size (LSB
                             )
0046 00              117           db   00H                                                  ;; Max packet size (MSB)
0047 02              118           db   02H                                                  ;; Polling interval
                     119     
                     120                   
                     121                                                                     ;; Virtual COM Port Data In
                             terface Descriptor
0048 09              122           db   DSCR_INTRFC_LEN                                      ;; Descriptor length
0049 04              123           db   DSCR_INTRFC                                          ;; Descriptor type
004A 01              124           db   1                                                    ;; Zero-based index of this
                              interface
004B 00              125           db   0                                                    ;; Alternate setting
004C 02              126           db   2                                                    ;; Number of end points
004D 0A              127           db   0AH                                                  ;; Interface class
004E 00              128           db   00H                                                  ;; Interface sub class
004F 00              129           db   00H                                                  ;; Interface protocol code 
                             class
                     130     
0050 00              131           db   0                                                    ;; Interface descriptor str
                             ing index
                     132     
0051 07              133           db   DSCR_ENDPNT_LEN                                      ;; Descriptor length
0052 05              134           db   DSCR_ENDPNT                                          ;; Descriptor type
0053 84              135           db   84H                                                  ;; Endpoint number, and dir
                             ection
0054 02              136           db   ET_BULK                                              ;; Endpoint type
0055 00              137           db   00H                                                  ;; Maximum packet size (LSB
                             )
0056 02              138           db   02H                                                  ;; Max packet size (MSB)
0057 00              139           db   00H                                                  ;; Polling interval
                     140     
                     141                                                                     ;; EP1OUT Descriptor
0058 07              142           db   DSCR_ENDPNT_LEN                                      ;; Descriptor length
0059 05              143           db   DSCR_ENDPNT                                          ;; Descriptor type
005A 02              144           db   02H                                                  ;; Endpoint number, and dir
                             ection
005B 02              145           db   ET_BULK                                              ;; Endpoint type
005C 00              146           db   00H                                                  ;; Maximum packet size (LSB
                             )
005D 02              147           db   02H                                                  ;; Max packet size (MSB)
005E 00              148           db   00H                                                  ;; Polling interval
                     149     
                     150     
005F                 151     HighSpeedConfigDscrEnd:   
                     152     
005F                 153     FullSpeedConfigDscr:   
A51 MACRO ASSEMBLER  DSCR                                                                 06/17/2013 20:07:27 PAGE     4

                     154     
                     155     
                     156     
005F                 157     FullSpeedConfigDscrEnd:   
                     158     
005F                 159     StringDscr:
                     160     
005F                 161     StringDscr0:   
005F 04              162           db   StringDscr0End-StringDscr0      ;; String descriptor length
0060 03              163           db   DSCR_STRING
0061 0904            164           db   09H,04H
0063                 165     StringDscr0End:
                     166     
0063                 167     StringDscr1:   
0063 10              168           db   StringDscr1End-StringDscr1      ;; String descriptor length
0064 03              169           db   DSCR_STRING
0065 4300            170           db   'C',00
0067 7900            171           db   'y',00
0069 7000            172           db   'p',00
006B 7200            173           db   'r',00
006D 6500            174           db   'e',00
006F 7300            175           db   's',00
0071 7300            176           db   's',00
0073                 177     StringDscr1End:
                     178     
0073                 179     StringDscr2:   
0073 38              180           db   StringDscr2End-StringDscr2      ;; Descriptor length
0074 03              181           db   DSCR_STRING
0075 4500            182           db   'E',00
0077 5A00            183           db   'Z',00
0079 2D00            184           db   '-',00
007B 5500            185           db   'U',00
007D 5300            186           db   'S',00
007F 4200            187           db   'B',00
0081 2000            188           db   ' ',00
0083 4600            189           db   'F',00
0085 5800            190           db   'X',00
0087 3200            191           db   '2',00
0089 2000            192           db   ' ',00
008B 5600            193           db   'V',00
008D 4900            194           db   'I',00
008F 5200            195           db   'R',00
0091 5400            196           db   'T',00
0093 5500            197           db   'U',00
0095 4100            198           db   'A',00
0097 4C00            199           db   'L',00
0099 2000            200           db   ' ',00
009B 4300            201           db   'C',00
009D 4F00            202           db   'O',00
009F 4D00            203           db   'M',00
00A1 2000            204           db   ' ',00
00A3 5000            205           db   'P',00
00A5 4F00            206           db   'O',00
00A7 5200            207           db   'R',00
00A9 5400            208           db   'T',00
                     209     
                     210     
00AB                 211     StringDscr2End:
                     212     
00AB                 213     UserDscr:      
00AB 0000            214           dw   0000H
                     215           end
                                   
A51 MACRO ASSEMBLER  DSCR                                                                 06/17/2013 20:07:27 PAGE     5

SYMBOL TABLE LISTING
------ ----- -------


N A M E                 T Y P E  V A L U E   ATTRIBUTES

DEVICEDSCR . . . . . .  C ADDR   0000H   R   SEG=DSCR
DEVICEQUALDSCR . . . .  C ADDR   0012H   R   SEG=DSCR
DSCR . . . . . . . . .  C SEG    00ADH       REL=PAGE
DSCR_CONFIG. . . . . .  N NUMB   0002H   A   
DSCR_CONFIG_LEN. . . .  N NUMB   0009H   A   
DSCR_DEVICE. . . . . .  N NUMB   0001H   A   
DSCR_DEVICE_LEN. . . .  N NUMB   0012H   A   
DSCR_DEVQUAL . . . . .  N NUMB   0006H   A   
DSCR_DEVQUAL_LEN . . .  N NUMB   000AH   A   
DSCR_ENDPNT. . . . . .  N NUMB   0005H   A   
DSCR_ENDPNT_LEN. . . .  N NUMB   0007H   A   
DSCR_INTRFC. . . . . .  N NUMB   0004H   A   
DSCR_INTRFC_LEN. . . .  N NUMB   0009H   A   
DSCR_STRING. . . . . .  N NUMB   0003H   A   
ET_BULK. . . . . . . .  N NUMB   0002H   A   
ET_CONTROL . . . . . .  N NUMB   0000H   A   
ET_INT . . . . . . . .  N NUMB   0003H   A   
ET_ISO . . . . . . . .  N NUMB   0001H   A   
FULLSPEEDCONFIGDSCR. .  C ADDR   005FH   R   SEG=DSCR
FULLSPEEDCONFIGDSCREND  C ADDR   005FH   R   SEG=DSCR
HIGHSPEEDCONFIGDSCR. .  C ADDR   001CH   R   SEG=DSCR
HIGHSPEEDCONFIGDSCREND  C ADDR   005FH   R   SEG=DSCR
STRINGDSCR . . . . . .  C ADDR   005FH   R   SEG=DSCR
STRINGDSCR0. . . . . .  C ADDR   005FH   R   SEG=DSCR
STRINGDSCR0END . . . .  C ADDR   0063H   R   SEG=DSCR
STRINGDSCR1. . . . . .  C ADDR   0063H   R   SEG=DSCR
STRINGDSCR1END . . . .  C ADDR   0073H   R   SEG=DSCR
STRINGDSCR2. . . . . .  C ADDR   0073H   R   SEG=DSCR
STRINGDSCR2END . . . .  C ADDR   00ABH   R   SEG=DSCR
USERDSCR . . . . . . .  C ADDR   00ABH   R   SEG=DSCR


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
